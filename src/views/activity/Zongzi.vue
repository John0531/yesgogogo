<template>
  <div class="zongziBg">
    <div class="zongziContainer">
      <!-- 主視覺 PC -->
      <div class="headerxl d-none d-lg-block text-center">
        <div class="position-relative" style="height: 1180px;">
          <div id="bannerContainer" class="position-absolute bottom-0 start-0">
            <!-- 粽子動畫pc版 -->
            <div class="photobannerpc">
              <img
                src="https://yesgoimages.s3.ap-northeast-1.amazonaws.com/yesgoevent/zongzi/rice_dumpling_1.gif"
                alt="粽子"
                class="dumplingWave dumplingWave1"
              />
              <img
                src="https://yesgoimages.s3.ap-northeast-1.amazonaws.com/yesgoevent/zongzi/rice_dumpling_2.png"
                alt="粽子"
                class="dumplingWave dumplingWave2"
              />
              <img
                src="https://yesgoimages.s3.ap-northeast-1.amazonaws.com/yesgoevent/zongzi/rice_dumpling_3.gif"
                alt="粽子"
                class="dumplingWave dumplingWave3"
              />
              <img
                src="https://yesgoimages.s3.ap-northeast-1.amazonaws.com/yesgoevent/zongzi/rice_dumpling_4.png"
                alt="粽子"
                class="dumplingWave dumplingWave4"
              />
              <img
                src="https://yesgoimages.s3.ap-northeast-1.amazonaws.com/yesgoevent/zongzi/rice_dumpling_5.png"
                alt="粽子"
                class="dumplingWave dumplingWave1"
              />
              <img
                src="https://yesgoimages.s3.ap-northeast-1.amazonaws.com/yesgoevent/zongzi/rice_dumpling_6.png"
                alt="粽子"
                class="dumplingWave dumplingWave2"
              />
              <img
                src="https://yesgoimages.s3.ap-northeast-1.amazonaws.com/yesgoevent/zongzi/rice_dumpling_7.gif"
                alt="粽子"
                class="dumplingWave dumplingWave3"
              />
              <img
                src="https://yesgoimages.s3.ap-northeast-1.amazonaws.com/yesgoevent/zongzi/rice_dumpling_8.png"
                alt="粽子"
                class="dumplingWave dumplingWave4"
              />
              <img
                src="https://yesgoimages.s3.ap-northeast-1.amazonaws.com/yesgoevent/zongzi/rice_dumpling_1.gif"
                alt="粽子"
                class="dumplingWave dumplingWave1"
              />
              <img
                src="https://yesgoimages.s3.ap-northeast-1.amazonaws.com/yesgoevent/zongzi/rice_dumpling_2.png"
                alt="粽子"
                class="dumplingWave dumplingWave2"
              />
              <img
                src="https://yesgoimages.s3.ap-northeast-1.amazonaws.com/yesgoevent/zongzi/rice_dumpling_3.gif"
                alt="粽子"
                class="dumplingWave dumplingWave3"
              />
              <img
                src="https://yesgoimages.s3.ap-northeast-1.amazonaws.com/yesgoevent/zongzi/rice_dumpling_4.png"
                alt="粽子"
                class="dumplingWave dumplingWave4"
              />
              <img
                src="https://yesgoimages.s3.ap-northeast-1.amazonaws.com/yesgoevent/zongzi/rice_dumpling_5.png"
                alt="粽子"
                class="dumplingWave dumplingWave1"
              />
              <img
                src="https://yesgoimages.s3.ap-northeast-1.amazonaws.com/yesgoevent/zongzi/rice_dumpling_6.png"
                alt="粽子"
                class="dumplingWave dumplingWave2"
              />
              <img
                src="https://yesgoimages.s3.ap-northeast-1.amazonaws.com/yesgoevent/zongzi/rice_dumpling_7.gif"
                alt="粽子"
                class="dumplingWave dumplingWave3"
              />
              <img
                src="https://yesgoimages.s3.ap-northeast-1.amazonaws.com/yesgoevent/zongzi/rice_dumpling_8.png"
                alt="粽子"
                class="dumplingWave dumplingWave4"
              />
            </div>
          </div>
        </div>
      </div>
      <div class="header d-lg-none text-center">
        <!-- 波浪mb版 -->
        <img
          src="https://yesgoimages.s3.ap-northeast-1.amazonaws.com/yesgoevent/zongzi/kv_cover_mb_cut.png"
          alt="波浪"
          class="img-fluid mt-5"
        />
        <div class="position-relative wavesheight">
          <div id="bannerContainer" class="position-absolute bottom-0 start-0">
            <!-- 粽子動畫mb版 -->
            <div class="photobannermb">
              <img
                src="https://yesgoimages.s3.ap-northeast-1.amazonaws.com/yesgoevent/zongzi/rice_dumpling_1.gif"
                alt="粽子"
                class="dumplingWave dumplingWave1mb"
              />
              <img
                src="https://yesgoimages.s3.ap-northeast-1.amazonaws.com/yesgoevent/zongzi/rice_dumpling_2.png"
                alt="粽子"
                class="dumplingWave dumplingWave2mb"
              />
              <img
                src="https://yesgoimages.s3.ap-northeast-1.amazonaws.com/yesgoevent/zongzi/rice_dumpling_3.gif"
                alt="粽子"
                class="dumplingWave dumplingWave3mb"
              />
              <img
                src="https://yesgoimages.s3.ap-northeast-1.amazonaws.com/yesgoevent/zongzi/rice_dumpling_4.png"
                alt="粽子"
                class="dumplingWave dumplingWave4mb"
              />
              <img
                src="https://yesgoimages.s3.ap-northeast-1.amazonaws.com/yesgoevent/zongzi/rice_dumpling_5.png"
                alt="粽子"
                class="dumplingWave dumplingWave1mb"
              />
              <img
                src="https://yesgoimages.s3.ap-northeast-1.amazonaws.com/yesgoevent/zongzi/rice_dumpling_6.png"
                alt="粽子"
                class="dumplingWave dumplingWave2mb"
              />
              <img
                src="https://yesgoimages.s3.ap-northeast-1.amazonaws.com/yesgoevent/zongzi/rice_dumpling_7.gif"
                alt="粽子"
                class="dumplingWave dumplingWave3mb"
              />
              <img
                src="https://yesgoimages.s3.ap-northeast-1.amazonaws.com/yesgoevent/zongzi/rice_dumpling_8.png"
                alt="粽子"
                class="dumplingWave dumplingWave4mb"
              />
              <img
                src="https://yesgoimages.s3.ap-northeast-1.amazonaws.com/yesgoevent/zongzi/rice_dumpling_1.gif"
                alt="粽子"
                class="dumplingWave dumplingWave1mb"
              />
              <img
                src="https://yesgoimages.s3.ap-northeast-1.amazonaws.com/yesgoevent/zongzi/rice_dumpling_2.png"
                alt="粽子"
                class="dumplingWave dumplingWave2mb"
              />
              <img
                src="https://yesgoimages.s3.ap-northeast-1.amazonaws.com/yesgoevent/zongzi/rice_dumpling_3.gif"
                alt="粽子"
                class="dumplingWave dumplingWave3mb"
              />
              <img
                src="https://yesgoimages.s3.ap-northeast-1.amazonaws.com/yesgoevent/zongzi/rice_dumpling_4.png"
                alt="粽子"
                class="dumplingWave dumplingWave4mb"
              />
              <img
                src="https://yesgoimages.s3.ap-northeast-1.amazonaws.com/yesgoevent/zongzi/rice_dumpling_5.png"
                alt="粽子"
                class="dumplingWave dumplingWave1mb"
              />
              <img
                src="https://yesgoimages.s3.ap-northeast-1.amazonaws.com/yesgoevent/zongzi/rice_dumpling_6.png"
                alt="粽子"
                class="dumplingWave dumplingWave2mb"
              />
              <img
                src="https://yesgoimages.s3.ap-northeast-1.amazonaws.com/yesgoevent/zongzi/rice_dumpling_7.gif"
                alt="粽子"
                class="dumplingWave dumplingWave3mb"
              />
              <img
                src="https://yesgoimages.s3.ap-northeast-1.amazonaws.com/yesgoevent/zongzi/rice_dumpling_8.png"
                alt="粽子"
                class="dumplingWave dumplingWave4mb"
              />
            </div>
          </div>
        </div>
      </div>
      <div class="waves position-relative">
        <!-- 四顆按鈕 -->
        <div class="container">
          <div class="row mt-3 mt-md-4 g-lg-4">
            <swiper
              class="fouricon"
              :slidesPerView="2.3"
              :spaceBetween="15"
              :breakpoints="{
                576: {
                  slidesPerView: 2.3,
                  spaceBetween: 15
                },
                768: {
                  slidesPerView: 4,
                  spaceBetween: 24
                }
              }"
            >
              <swiper-slide>
                <div>
                  <a v-if="zongziEvent[0]" :href="zongziEvent[0].targetUrl">
                    <img
                      v-if="zongziEvent[0]"
                      :src="zongziEvent[0].image"
                      class="img-fluid"
                      alt="下單滿$1000"
                    />
                  </a>
                </div>
              </swiper-slide>
              <swiper-slide>
                <div>
                  <a v-if="zongziEvent[1]" :href="zongziEvent[1].targetUrl">
                    <img
                      v-if="zongziEvent[1]"
                      :src="zongziEvent[1].image"
                      class="img-fluid"
                      alt="消費滿$1500"
                    />
                  </a>
                </div>
              </swiper-slide>
              <swiper-slide>
                <div>
                  <a v-if="zongziEvent[2]" :href="zongziEvent[2].targetUrl">
                    <img
                      v-if="zongziEvent[2]"
                      :src="zongziEvent[2].image"
                      class="img-fluid"
                      alt="筆筆消費送10%"
                    />
                  </a>
                </div>
              </swiper-slide>
              <swiper-slide>
                <div>
                  <a v-if="zongziEvent[3]" :href="zongziEvent[3].targetUrl">
                    <img
                      v-if="zongziEvent[3]"
                      :src="zongziEvent[3].image"
                      class="img-fluid"
                      alt="新會員好禮"
                    />
                  </a>
                </div>
              </swiper-slide>
            </swiper>
          </div>
        </div>
      </div>
    </div>
    <!-- 南北粽 -->
    <div class="nangbeizong">
      <div class="container">
        <!-- 南北粽頭頂 -->
        <!-- 南北頭頂pc版 -->
        <div class="row d-none d-lg-block text-center position-relative">
          <img
            src="https://yesgoimages.s3.ap-northeast-1.amazonaws.com/yesgoevent/zongzi/frame_top_1.png"
            alt="南北頭頂pc版 "
            style="margin-top: 11%;"
            class="img-fluid"
          />
          <div
            class="d-none d-lg-flex justify-content-end position-absolute"
            style="margin-left: -5%;"
          >
            <a
              href="#"
              @click.prevent="recordClickHeight(topSeller1.link)"
              class="d-block"
            >
              <img
                src="https://yesgoimages.s3.ap-northeast-1.amazonaws.com/yesgoevent/zongzi/bottom_1.png"
                alt="看更多按鈕"
                class="img-fluid w-100"
                style="margin-top: -110%;"
              />
            </a>
          </div>
        </div>
        <!-- 南北頭頂mb版 -->
        <div class="row d-lg-none text-center position-relative">
          <div class="col-12">
            <img
              src="https://yesgoimages.s3.ap-northeast-1.amazonaws.com/yesgoevent/zongzi/frame_top_1_mb.png"
              alt="南北頭頂mb版"
              style="margin-top: 11%; margin-bottom: -3px;"
              class="img-fluid"
            />
            <div
              class="d-lg-none d-flex justify-content-end position-absolute end-0 top-0"
              style="margin-top: 40%;"
            >
              <a
                href="#"
                @click.prevent="recordClickHeight(topSeller1.link)"
                class="d-block"
              >
                <img
                  src="https://yesgoimages.s3.ap-northeast-1.amazonaws.com/yesgoevent/zongzi/bottom_1.png"
                  alt="看更多按鈕"
                  class="img-fluid w-50"
                  style="margin-top: 5%; margin-left: 18%;"
                />
              </a>
            </div>
          </div>
        </div>
        <!-- 南北粽肚子 -->
        <div class="famousProducts1 px-4 px-lg-2">
          <div class="row justify-content-start px-md-5 g-1" v-if="topSeller1">
            <div
              class="col-6 col-lg-3 mb-3 mt-0"
              v-for="food in topSeller1.products"
              :key="food + '1'"
            >
              <div class="prd-item hvr-bob">
                <router-link
                  :to="`/productboard/product/${food.productId}`"
                  class="prd-link text-secondary text-decoration-none"
                >
                  <span class="d-block prd-img mb-2"
                    ><img :src="food.productImage" class="img-fluid"
                  /></span>
                  <span class="d-block prd-name ">{{ food.productName }}</span>
                  <span class="d-block prd-sale"
                    >特價 <span class="prd-currency">$</span
                    ><span
                      class="prd-sale-price"
                      >{{ food.price &lt; 0 ? 'xxx': food.price }}</span
                    ></span
                  >
                  <del class="d-block prd-price mb-2"
                    >原價 $<span
                      class="prd-msrp"
                      >{{ food.oldPrice &lt; 0 ? 'xxx': food.oldPrice }}</span
                    ></del
                  >
                  <div class="my-2 text-center buy-button p-1">立即搶購</div>
                </router-link>
              </div>
            </div>
          </div>
        </div>
        <!-- 南北粽底部 -->
        <div class="d-none d-lg-block text-center">
          <img
            src="https://yesgoimages.s3.ap-northeast-1.amazonaws.com/yesgoevent/zongzi/frame_bottom_1.png"
            alt="南北粽底部pc版"
            style="margin-bottom: 13%; margin-top: -1px; margin-right: 0px;"
            class="img-fluid "
          />
        </div>
        <div class="d-lg-none text-center" style="margin-top: -18%;">
          <img
            src="https://yesgoimages.s3.ap-northeast-1.amazonaws.com/yesgoevent/zongzi/frame_bottom_1_mb.png"
            alt="南北粽底部mb版"
            style="margin-bottom: 13%; margin-top: -1px;"
            class="img-fluid "
          />
        </div>
      </div>
    </div>
    <!-- 甜心粽 -->
    <div class="sweetground">
      <div class="container">
        <!-- 甜心粽頭頂 -->
        <!-- 甜心頭頂pc版 -->
        <div class="row d-none d-lg-block text-center position-relative">
          <img
            src="https://yesgoimages.s3.ap-northeast-1.amazonaws.com/yesgoevent/zongzi/frame_top_2.png"
            alt="甜心頭頂pc版"
            style="margin-top: 10%;"
            class="img-fluid"
          />
          <div
            class="d-none d-lg-flex justify-content-end position-absolute"
            style="margin-left: -5%;"
          >
            <a
              href="#"
              @click.prevent="recordClickHeight(topSeller2.link)"
              class="d-block"
            >
              <img
                src="https://yesgoimages.s3.ap-northeast-1.amazonaws.com/yesgoevent/zongzi/bottom_1.png"
                alt="看更多按鈕"
                class="img-fluid w-100"
                style="margin-top: -110%;"
              />
            </a>
          </div>
        </div>
        <!-- 甜心頭頂mb版 -->
        <div class="row d-lg-none text-center position-relative">
          <div class="col-12">
            <img
              src="https://yesgoimages.s3.ap-northeast-1.amazonaws.com/yesgoevent/zongzi/frame_top_2_mb.png"
              alt="甜心頭頂mb版"
              style="margin-top: 10%; margin-bottom: -3px;"
              class="img-fluid"
            />
            <div
              class="d-lg-none d-flex justify-content-end position-absolute end-0 top-0"
              style="margin-top: 40%;"
            >
              <a
                href="#"
                @click.prevent="recordClickHeight(topSeller2.link)"
                class="d-block"
              >
                <img
                  src="https://yesgoimages.s3.ap-northeast-1.amazonaws.com/yesgoevent/zongzi/bottom_1.png"
                  alt="看更多按鈕"
                  class="img-fluid w-50"
                  style="margin-top: 1%; margin-left: 18%;"
                />
              </a>
            </div>
          </div>
        </div>
        <!-- 甜心粽肚子 -->
        <div class="famousProducts2 px-4 px-lg-2">
          <div class="row justify-content-start px-md-5 g-1">
            <div
              class="col-6 col-lg-3 mb-3 mt-0"
              v-for="food in topSeller2.products"
              :key="food + '2'"
            >
              <div
                class="prd-item hvr-bob"
                :class="{ 'sold-out': food.stock === 0 }"
              >
                <router-link
                  :to="`/productboard/product/${food.productId}`"
                  class="prd-link text-secondary text-decoration-none"
                >
                  <span class="d-block prd-img mb-2"
                    ><img :src="food.productImage" class="img-fluid"
                  /></span>
                  <span class="d-block prd-name fs-7 fs-md-5">{{
                    food.productName
                  }}</span>
                  <span class="d-block prd-sale"
                    >特價 <span class="prd-currency">$</span
                    ><span
                      class="prd-sale-price"
                      >{{ food.price &lt; 0 ? 'xxx': food.price }}</span
                    ></span
                  >
                  <del class="d-block prd-price mb-2"
                    >原價 $<span
                      class="prd-msrp"
                      >{{ food.oldPrice &lt; 0 ? 'xxx': food.oldPrice }}</span
                    ></del
                  >
                  <div class="my-2 text-center buy-button p-1">立即搶購</div>
                </router-link>
              </div>
            </div>
          </div>
        </div>
        <!-- 甜心粽底部 -->
        <div class="d-none d-lg-block text-center" style="margin-right: 2px;">
          <img
            src="https://yesgoimages.s3.ap-northeast-1.amazonaws.com/yesgoevent/zongzi/frame_bottom_2.png"
            alt="甜心粽底部pc版"
            style="margin-bottom: 13%; margin-top: -1px;"
            class="img-fluid"
          />
        </div>
        <div class="d-lg-none text-center" style="margin-top: -15%;">
          <img
            src="https://yesgoimages.s3.ap-northeast-1.amazonaws.com/yesgoevent/zongzi/frame_bottom_2_mb.png"
            alt="甜心粽底部mb版"
            style="margin-bottom: 13%; margin-top: -1px;"
            class="img-fluid"
          />
        </div>
      </div>
    </div>
    <!-- 特色粽 -->
    <div class="specialList3">
      <div class="container">
        <!-- 特色粽頭頂 -->
        <!-- 特色頭頂pc版 -->
        <div class="row d-none d-lg-block text-center position-relative">
          <img
            src="https://yesgoimages.s3.ap-northeast-1.amazonaws.com/yesgoevent/zongzi/frame_top_3.png"
            alt="特色頭頂pc版"
            style="margin-top: 10%;"
            class="img-fluid"
          />
          <div
            class="d-none d-lg-flex justify-content-end position-absolute"
            style="margin-left: -5%;"
          >
            <a
              href="#"
              @click.prevent="recordClickHeight(topSeller3.link)"
              class="d-block"
            >
              <img
                src="https://yesgoimages.s3.ap-northeast-1.amazonaws.com/yesgoevent/zongzi/bottom_1.png"
                alt="看更多按鈕"
                class="img-fluid w-100"
                style="margin-top: -110%;"
              />
            </a>
          </div>
        </div>
        <!-- 特色頭頂mb版 -->
        <div class="row d-lg-none text-center position-relative pt-5">
          <div class="col-12">
            <img
              src="https://yesgoimages.s3.ap-northeast-1.amazonaws.com/yesgoevent/zongzi/frame_top_3_mb.png"
              alt="特色頭頂mb版"
              style="margin-bottom: -3px;"
              class="img-fluid"
            />
            <div
              class="d-lg-none d-flex justify-content-end position-absolute end-0 top-0"
              style="margin-top: 40%;"
            >
              <a
                href="#"
                @click.prevent="recordClickHeight(topSeller3.link)"
                class="d-block"
              >
                <img
                  src="https://yesgoimages.s3.ap-northeast-1.amazonaws.com/yesgoevent/zongzi/bottom_1.png"
                  alt="看更多按鈕"
                  class="img-fluid w-50"
                  style="margin-top: 10%; margin-left: 20%;"
                />
              </a>
            </div>
          </div>
        </div>
        <!-- 特色粽肚子 -->
        <div class="famousProducts3 px-4 px-lg-2">
          <div class="row justify-content-start px-md-5 g-1">
            <div
              class="col-6 col-lg-3 mb-3 mt-0"
              v-for="food in topSeller3.products"
              :key="food + '3'"
            >
              <div
                class="prd-item hvr-bob"
                :class="{ 'sold-out': food.stock === 0 }"
              >
                <router-link
                  :to="`/productboard/product/${food.productId}`"
                  class="prd-link text-secondary text-decoration-none"
                >
                  <span class="d-block prd-img mb-2"
                    ><img :src="food.productImage" class="img-fluid"
                  /></span>
                  <span class="d-block prd-name fs-7 fs-md-5">{{
                    food.productName
                  }}</span>
                  <span class="d-block prd-sale"
                    >特價 <span class="prd-currency">$</span
                    ><span
                      class="prd-sale-price"
                      >{{ food.price &lt; 0 ? 'xxx': food.price }}</span
                    ></span
                  >
                  <del class="d-block prd-price mb-2"
                    >原價 $<span
                      class="prd-msrp"
                      >{{ food.oldPrice &lt; 0 ? 'xxx': food.oldPrice }}</span
                    ></del
                  >
                  <div class="my-2 text-center buy-button p-1">立即搶購</div>
                </router-link>
              </div>
            </div>
          </div>
        </div>
        <!-- 特色粽底部 -->
        <div class="d-none d-lg-block text-center">
          <img
            src="https://yesgoimages.s3.ap-northeast-1.amazonaws.com/yesgoevent/zongzi/frame_bottom_3.png"
            alt="特色粽底部pc版"
            style="margin-bottom: 13%; margin-top: -1px;"
            class="img-fluid"
          />
        </div>
        <div class="d-lg-none text-center" style="margin-top: -24%;">
          <img
            src="https://yesgoimages.s3.ap-northeast-1.amazonaws.com/yesgoevent/zongzi/frame_bottom_3_mb.png"
            alt="特色粽底部mb版"
            style="margin-bottom: 13%; margin-top: -1px;"
            class="img-fluid"
          />
        </div>
      </div>
    </div>
    <!-- 最佳絕配 -->
    <div class="match">
      <div class="container">
        <!-- 最佳絕配頭頂 -->
        <!-- 最佳絕配頭頂pb版 -->
        <div class="row d-none d-lg-block text-center position-relative">
          <img
            src="https://yesgoimages.s3.ap-northeast-1.amazonaws.com/yesgoevent/zongzi/frame_top_4.png"
            alt="最佳絕配頭頂pb版"
            style="margin-top: 10%;"
            class="img-fluid"
          />
          <div
            class="d-none d-lg-flex justify-content-end position-absolute"
            style="margin-left: -5%;"
          >
            <a
              href="#"
              @click.prevent="recordClickHeight(topSeller4.link)"
              class="d-block"
            >
              <img
                src="https://yesgoimages.s3.ap-northeast-1.amazonaws.com/yesgoevent/zongzi/bottom_1.png"
                alt="看更多按鈕"
                class="img-fluid w-100"
                style="margin-top: -110%;"
              />
            </a>
          </div>
        </div>
        <!-- 最佳絕配mb版 -->
        <div class="row d-lg-none text-center position-relative py-1">
          <div class="col-12">
            <img
              src="https://yesgoimages.s3.ap-northeast-1.amazonaws.com/yesgoevent/zongzi/frame_top_4_mb.png"
              alt="最佳絕配mb版"
              style="margin-top: 10%;"
              class="img-fluid"
            />
            <div
              class="d-lg-none d-flex justify-content-end position-absolute end-0 top-0"
              style="margin-top: 28%;"
            >
              <a
                href="#"
                @click.prevent="recordClickHeight(topSeller4.link)"
                class="d-block"
              >
                <img
                  src="https://yesgoimages.s3.ap-northeast-1.amazonaws.com/yesgoevent/zongzi/bottom_1.png"
                  alt="看更多按鈕"
                  class="img-fluid w-50"
                  style="margin-top: 5%; margin-left: 18%;"
                />
              </a>
            </div>
          </div>
        </div>
        <!-- 最佳絕配肚子 -->
        <div class="famousProducts4 px-4 px-lg-2">
          <div class="row justify-content-start px-md-5 g-3 g-md-1  ">
            <div
              class="col-6 col-lg-3 mb-3 mt-0"
              v-for="food in topSeller4.products"
              :key="food + '4'"
            >
              <div
                class="prd-item hvr-bob"
                :class="{ 'sold-out': food.stock === 0 }"
              >
                <router-link
                  :to="`/productboard/product/${food.productId}`"
                  class="prd-link text-secondary text-decoration-none"
                >
                  <span class="d-block prd-img mb-2"
                    ><img :src="food.productImage" class="img-fluid"
                  /></span>
                  <span class="d-block prd-name fs-7 fs-md-5">{{
                    food.productName
                  }}</span>
                  <span class="d-block prd-sale"
                    >特價 <span class="prd-currency">$</span
                    ><span
                      class="prd-sale-price"
                      >{{ food.price &lt; 0 ? 'xxx': food.price }}</span
                    ></span
                  >
                  <del class="d-block prd-price mb-2"
                    >原價 $<span
                      class="prd-msrp"
                      >{{ food.oldPrice &lt; 0 ? 'xxx': food.oldPrice }}</span
                    ></del
                  >
                  <div class="my-2 text-center buy-button p-1">立即搶購</div>
                </router-link>
              </div>
            </div>
          </div>
        </div>
        <!-- 最佳絕配底部 -->
        <div class="d-none d-lg-block text-center">
          <img
            src="https://yesgoimages.s3.ap-northeast-1.amazonaws.com/yesgoevent/zongzi/frame_bottom_4.png"
            alt="最佳絕配底部pc版"
            style="margin-bottom: 13%; margin-top: -1px;"
            class="img-fluid"
          />
        </div>
        <div class="d-lg-none text-center" style="margin-top: -18%;">
          <img
            src="https://yesgoimages.s3.ap-northeast-1.amazonaws.com/yesgoevent/zongzi/frame_bottom_4_mb.png"
            alt="最佳絕配底部mb版"
            style="margin-bottom: 13%; margin-top: -1px;"
            class="img-fluid"
          />
        </div>
      </div>
    </div>
    <!-- 品牌獨家好康 -->
    <div class="dujia">
      <div class="container">
        <!-- 品牌獨家好康頂部 -->
        <div class="d-none d-lg-block text-center">
          <img
            src="https://yesgoimages.s3.ap-northeast-1.amazonaws.com/yesgoevent/zongzi/frame_top_5.png"
            alt="品牌獨家好康頂部pc版"
            class="img-fluid nicetop"
          />
        </div>
        <div class="d-lg-none text-center">
          <img
            src="https://yesgoimages.s3.ap-northeast-1.amazonaws.com/yesgoevent/zongzi/frame_top_5_mb.png"
            alt="品牌獨家好康頂部mb版"
            class="img-fluid"
            style="margin-top: 10%;"
          />
        </div>
        <!-- 品牌獨家好康肚子 -->
        <div class="famousProducts5 px-4 px-lg-2">
          <div class="row justify-content-start px-md-5 g-3 pt-3">
            <div
              class="col-4 mb-3 mt-0"
              v-for="food in activitiesImgs"
              :key="food + '5'"
            >
              <a
                href="#"
                class="d-block"
                @click.prevent="recordClickHeight(food.targetUrl)"
              >
                <img
                  :src="food.image"
                  alt="品牌獨家好康"
                  class="img-fluid hvr-bob"
                />
              </a>
            </div>
          </div>
        </div>
        <!-- 品牌獨家好康底部 -->
        <div class="d-none d-lg-block text-center">
          <img
            src="https://yesgoimages.s3.ap-northeast-1.amazonaws.com/yesgoevent/zongzi/frame_bottom_5.png"
            alt="品牌獨家好康底部pc版"
            class="img-fluid nice"
            style="margin-bottom: 13%; margin-left: 0px; margin-top: -1px;"
          />
        </div>
        <div class="d-lg-none text-center">
          <img
            src="https://yesgoimages.s3.ap-northeast-1.amazonaws.com/yesgoevent/zongzi/frame_bottom_5_mb.png"
            alt="品牌獨家好康底部mb版"
            class="img-fluid"
            style="margin-bottom: 13%; margin-top: -1px;"
          />
        </div>
      </div>
    </div>
    <!-- 粽子推薦 -->
    <div class="recommand" ref="zongzirecommend" id="zongzirecommend">
      <div class="container pt-5">
        <div class="content pt-sm-5 pt-4 position-relative" style="z-index:10;">
          <div class="row py-lg-5 px-sm-5" style="margin-top: 13%;">
            <div class="col-lg-5 px-1">
              <h1
                class="display-6 fw-bold mb-3 fs-4 fs-sm-2"
                style="color:#182a83;"
              >
                {{ event1.name }}
              </h1>
              <div
                class="px-2 mb-3"
                style="border:2px solid #182a83;overflow:hidden;"
              >
                <h3 class="fs-6 fs-sm-2" style="color:#f15d22">
                  {{ event1.title }}
                </h3>
              </div>
              <h4 style="color:#182a83;" class="title-content fs-6 fs-sm-4">
                {{ event1.description }}
              </h4>
            </div>
            <div class="col-lg-7 pt-3 pt-sm-2 pt-lg-0 py-4 px-1">
              <div class="ratio ratio-16x9 d-md-none d-lg-block">
                <iframe
                  class="w-100"
                  :src="event1.link"
                  frameborder="0"
                ></iframe>
              </div>
              <div class="ratio ratio-4x3 d-none d-md-block d-lg-none">
                <iframe
                  class="w-100"
                  :src="event1.link"
                  frameborder="0"
                ></iframe>
              </div>
            </div>
          </div>
        </div>
        <div class="text-center pt-3 pb-3 pt-md-2 pb-md-3 pb-lg-5">
          <router-link to="/" class="hvr-bob">
            <img
              src="https://yesgoimages.s3.ap-northeast-1.amazonaws.com/yesgoevent/zongzi/bottom_4.png"
              alt="看更多商品"
              class="w-100 img-fluid d-none d-lg-block"
              style="margin: 30% 0"
            />
          </router-link>
          <router-link to="/" class="hvr-bob">
            <img
              src="https://yesgoimages.s3.ap-northeast-1.amazonaws.com/yesgoevent/zongzi/bottom_4.png"
              alt="看更多商品"
              class="w-50 d-block d-md-inline d-lg-none py-4"
              style="margin: 0 auto"
            />
          </router-link>
        </div>
        <div class="text-center">
          <img
            src="https://yesgoimages.s3.ap-northeast-1.amazonaws.com/yesgoevent/zongzi/dico_dragon_boat_bottom.png"
            alt="龍舟"
            style="margin: 0 auto"
            class="w-50 d-lg-none text-align-center"
          />
        </div>
      </div>
    </div>
  </div>
</template>

<script>
export default {
  data () {
    return {
      isAnimate: false,
      topSeller1: '',
      topSeller2: '',
      topSeller3: '',
      topSeller4: '',
      topSeller5: '',
      foodList: '',
      activitiesImgs: [],
      event1: {},
      zongziEvent: ''
    }
  },
  methods: {
    // 粽子亂數函式
    makeid (length) {
      let result = ''
      const characters =
        'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789'
      const charactersLength = characters.length
      for (let i = 0; i < length; i++) {
        result += characters.charAt(
          Math.floor(Math.random() * charactersLength)
        )
      }
      return result
    },

    // 上方四顆按鈕
    getZongziEvent () {
      const url = `${process.env.VUE_APP_API}/api/widgets/activitybanner?code=zongzi_event`
      this.$http.get(url).then(res => {
        this.zongziEvent = res.data.info
      })
    },

    // 四大塊粽子區
    getGoods () {
      const url = `${process.env.VUE_APP_API}/api/product/eventproducts?code=zongzi_A`
      this.$http.get(url).then(res => {
        if (res.data.rtnCode !== 0) {
          this.$swal.fire({
            title: `zongzi_A${res.data.rtnMsg}(${res.data.rtnCode})`,
            allowOutsideClick: false,
            confirmButtonColor: '#F8412E',
            confirmButtonText: '確認',
            width: 400,
            customClass: {
              title: 'text-class',
              confirmButton: 'confirm-btn-class'
            }
          })
          return
        }
        if (res.data.rtnCode === 0) {
          this.foodList = res.data.info
          this.foodList.forEach(item => {
            if (item.code === 'zongzi_A_1') {
              this.topSeller1 = item
            } else if (item.code === 'zongzi_A_2') {
              this.topSeller2 = item
            } else if (item.code === 'zongzi_A_3') {
              this.topSeller3 = item
            } else if (item.code === 'zongzi_A_4') {
              this.topSeller4 = item
            }
          })

          // ?query錨點
          if (Object.keys(this.$route.query).length !== 0 && this.$route.query.tagged === 'zongzibox') {
            setTimeout(() => {
              window.scrollTo(0, this.$refs.zongzirecommend.offsetTop)
            }, 500)
          }
          // ?高度返回
          // console.log(this.$store.state.recordEventReadHeight)
          if (this.$store.state.recordEventReadHeight) {
            // ? 若有點擊產品紀錄，則記錄高度供上一頁返回
            setTimeout(() => {
              // ?資料高度生成需要時間，利用setTimeOut讓視窗滑動不同步，才能順利執行
              window.scrollTo(0, this.$store.state.recordEventReadHeight)
              // this.$store.commit('getEventRecordHeight', '')
            }, 700)
          } else {
            this.checkLocalHeight()
          }
        }
      })
    },
    // 品牌獨家好康
    getBenefit () {
      const urlm = `${process.env.VUE_APP_API}/api/widgets/activitybanner?code=dumpling_A`
      this.$http.get(urlm).then(res => {
        if (res.data.rtnCode !== 0) {
          this.$swal.fire({
            title: `dumpling_A${res.data.rtnMsg}(${res.data.rtnCode})`,
            allowOutsideClick: false,
            confirmButtonColor: '#F8412E',
            confirmButtonText: '確認',
            width: 400,
            customClass: {
              title: 'text-class',
              confirmButton: 'confirm-btn-class'
            }
          })
          return
        }
        if (res.data.rtnCode === 0) {
          this.activitiesImgs = res.data.info
        }
      })
    },
    // 粽子推薦
    getRecommand () {
      const url = `${process.env.VUE_APP_API}/api/product/eventproducts?code=zongzi_recommend`
      this.axios.get(url).then(res => {
        if (res.data.rtnCode !== 0) {
          this.$swal.fire({
            title: `頁面發生錯誤(${res.data.rtnCode})，請重新整理`,
            allowOutsideClick: false,
            confirmButtonColor: '#F8412E',
            confirmButtonText: '確認',
            width: 400,
            customClass: {
              title: 'text-class',
              confirmButton: 'confirm-btn-class'
            }
          })
          return
        }
        this.event1 = res.data.info[0]
        res.data.info.forEach(item => {
          if (item.link) {
            item.link = item.link.includes('?')
              ? `${item.link}&rel=0`
              : `${item.link}?rel=0`
          }
          if (item.code === 'zongzi_recommend') {
            this.event1 = item
          }
        })
      })
    },
    // recordHeight () {
    //   // ?點擊產品觸發紀錄瀏覽高度
    //   if (this.$store.state.recordEventReadHeight) {
    //     setTimeout(
    //       () => [
    //         // ?資料高度生成需要時間，利用setTimeOut讓視窗滑動不同步，才能順利執行
    //         window.scrollTo(0, this.$store.state.recordEventReadHeight)
    //       ],
    //       500
    //     )
    //   }
    // },
    // ?小電視及看更多記錄高度(存值)
    recordClickHeight (url) {
      // ?點擊產品觸發紀錄瀏覽高度於LocalStorage
      const scrollYHeight = window.scrollY
      localStorage.setItem('clickHeight', scrollYHeight)
      setTimeout(() => {
        window.location = url
      }, 500)
    },
    // ?回到原頁面(取值)
    checkLocalHeight () {
      // ?檢查LocalStorage
      if (window.localStorage.getItem('clickHeight')) {
        const globalheight = window.localStorage.getItem('clickHeight')
        setTimeout(() => {
          window.scrollTo(0, globalheight)
        }, 300)
        // 為了不要留紀錄，不然存在著會誤導
        localStorage.removeItem('clickHeight')
      }
    }
  },

  watch: {
    $route (to, from) {
      if (to.fullPath.match('/productboard/') || to.fullPath === '/') {
        const recordHeight = window.scrollY
        this.$store.commit('getEventRecordHeight', recordHeight)
      } else {
        this.$store.commit('getEventRecordHeight', '')
      }
    }
  },
  mounted () {
    /* 粽子圖片(加亂數)--> 以防 cache */
    const images = document.querySelectorAll('.dumplingWave')
    images.forEach(img => {
      img.src = `${img.src}?${this.makeid(5)}`
    })
    this.getGoods()
    this.getBenefit()
    this.getRecommand()
    this.getZongziEvent()
  },
  updated () {
    this.checkLocalHeight()
  }
}
</script>

<style lang="scss" scoped>
@import '@/assets/scss/activity/_hover.min.scss';
@import '@/assets/scss/activity/zongzi/_site.scss';
</style>
